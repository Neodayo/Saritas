{% extends "saritasapp/base.html" %}
{% load static %}
{% block title %}Receipt{% endblock %}

{% block content %}
<div class="receipt-container">
    <form method="POST" action="{% url 'saritasapp:receipt-update' receipt.id %}">
        {% csrf_token %}
        <div class="payment-details">
            <span class="success">✔ Receipt Success!</span>
            <h2>₱ <input type="text" id="input-amount" name="amount" value="{{ receipt.amount }}"></h2>
            <button class="buttons" type="button" onclick="window.location.href='{% url 'saritasapp:receipt-pdf' receipt.id %}'">
                Download PDF Receipt
            </button>
            
            

            <h3>Payment Details</h3>
            <p><strong>Name:</strong> <input type="text" id="customer-name" name="customer_name" value="{{ receipt.customer_name }}"></p>
            <p><strong>Contact Number:</strong> <input type="text" id="customer-number" name="customer_number" value="{{ receipt.customer_number }}"></p>
            <p><strong>Payment Time:</strong> <input type="datetime-local" id="payment-time" name="payment_time" value="{{ receipt.payment_time|date:'Y-m-d\TH:i' }}"></p>
            <p><strong>Date of Event:</strong> <input type="date" id="event-date" name="event_date" value="{{ receipt.event_date|date:'Y-m-d' }}"></p>
            <p><strong>Date for Pick-up:</strong> <input type="date" id="pickup-date" name="pickup_date" value="{{ receipt.pickup_date|date:'Y-m-d' }}"></p>
            <p><strong>Due Date of Return:</strong> <input type="date" id="return-date" name="return_date" value="{{ receipt.return_date|date:'Y-m-d' }}"></p>
            <p><strong>Down Payment:</strong> <input type="text" id="down-payment" name="down_payment" value="{{ receipt.down_payment }}"></p>
            <p><strong>Payment Method:</strong> 
                <select id="payment-method" name="payment_method">
                    <option value="Cash" {% if receipt.payment_method == "Cash" %}selected{% endif %}>Cash</option>
                    <option value="Credit Card" {% if receipt.payment_method == "Credit Card" %}selected{% endif %}>Credit Card</option>
                    <option value="Bank Transfer" {% if receipt.payment_method == "Bank Transfer" %}selected{% endif %}>Bank Transfer</option>
                </select>
            </p>
        </div>

        <div class="measures">
            <h3>MEASUREMENTS:</h3>
            <p><strong>Shoulder:</strong> <input type="text" name="shoulder" value="{{ receipt.shoulder }}"></p>
            <p><strong>Bust:</strong> <input type="text" name="bust" value="{{ receipt.bust }}"></p>
            <p><strong>Front:</strong> <input type="text" name="front" value="{{ receipt.front }}"></p>
            <p><strong>Width:</strong> <input type="text" name="width" value="{{ receipt.width }}"></p>
            <p><strong>Waist:</strong> <input type="text" name="waist" value="{{ receipt.waist }}"></p>
            <p><strong>Hips:</strong> <input type="text" name="hips" value="{{ receipt.hips }}"></p>
            <p><strong>Arm Length:</strong> <input type="text" name="arm_length" value="{{ receipt.arm_length }}"></p>
            <p><strong>Bust Depth:</strong> <input type="text" name="bust_depth" value="{{ receipt.bust_depth }}"></p>
            <p><strong>Bust Distance:</strong> <input type="text" name="bust_distance" value="{{ receipt.bust_distance }}"></p>
            <p><strong>Length:</strong> <input type="text" name="length" value="{{ receipt.length }}"></p>
            <p><strong>Lower Circumference:</strong> <input type="text" name="lower_circumference" value="{{ receipt.lower_circumference }}"></p>
            <p><strong>Crotch:</strong> <input type="text" name="crotch" value="{{ receipt.crotch }}"></p>
        </div>

        <div class="remarks">
            <h3>Remarks:</h3>
            <textarea id="remarks" name="remarks">{{ receipt.remarks }}</textarea>
        </div>

        <button class="buttons" type="submit">Save Changes</button>
    </form>
</div>
{% endblock %}



{% block extra_css %}
<style>
    .receipt-container {
        max-width: 800px;
        background: white;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0,0,0,0.1);
        margin: 20px auto;
    }
    .header {
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    .success {
        color: green;
        font-weight: bold;
    }
    .payment-details, .measures {
        margin-top: 20px;
    }
    .measures div {
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
    }
    .measures p {
        flex: 1 1 45%;
    }
    .remarks {
        margin-top: 20px;
        font-style: italic;
    }
    .buttons {
        margin-top: 10px;
        padding: 10px 15px;
        border: none;
        background: #007bff;
        color: white;
        cursor: pointer;
        border-radius: 5px;
    }
    h2 input {
        font-size: 1.2em;
        text-align: center;
        border: none;
        background: transparent;
        width: 120px;
    }
    p input {
        border: 1px solid #ccc;
        padding: 5px;
        border-radius: 5px;
        width: 200px;
    }
    .remarks textarea {
        width: 100%;
        height: 100px;
        border: 1px solid #ccc;
        border-radius: 5px;
        padding: 10px;
    }
</style>
{% endblock %}
